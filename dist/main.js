(()=>{"use strict";function e(e,t){const n=t.day,c=t.date;let o=n.maxtemp_c,a=n.mintemp_c;const d=n.condition.text,m=n.condition.icon,r=document.getElementById("forecast-days"),s=document.createElement("div");s.className="forecast-card";const i=document.createElement("div"),l=document.createElement("img");i.className="weather-icon",l.src="http:"+m,l.alt="forecast",l.className="forecast",i.append(l);let u=new Date(c),p=u.toLocaleDateString("en-us",{weekday:"long"}),y=u.toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});const f=document.createElement("div");f.append(p);const E=document.createElement("div");E.append(y);const g=document.createElement("div");let h,v;g.append(d),e?(o=n.maxtemp_f,a=n.mintemp_f,h="H: "+o+"°F",v="L: "+a+"°F"):(o=n.maxtemp_c,a=n.mintemp_c,h="H: "+o+"°C",v="L: "+a+"°C");const x=document.createElement("div");x.append(h);const C=document.createElement("div");C.append(v),s.append(i,f,E,g,x,C),r.append(s)}let t=!1,n="auto:ip";async function c(c){const o=document.getElementById("error");try{(await fetch("https://api.weatherapi.com/v1/forecast.json?key=2efa87e3c68c4dfba8d05608230609&q="+c+"&days=3",{mode:"cors"})).json().then((function(c){o.style.display="none",n=c.location.name;let a=c.forecast.forecastday;!function(e){const t=document.querySelector(".forecast-container");t.textContent="";const n=document.createElement("div");n.className="forecast-header",n.textContent="Forecast For "+e;const c=document.createElement("div");c.className="forecast-days",c.id="forecast-days",t.append(n,c)}(n);for(let n of a)e(t,n);!function(e,t){let n=t.location,c=t.current;const o=c.condition.icon,a=n.name,d=n.country,m=c.condition.text;let r;const s=c.last_updated,i=document.querySelector(".current-weather");i.textContent="";const l=document.createElement("img");l.src="http:"+o,l.alt="today",l.className="forecast";const u=document.createElement("div");u.textContent="Current Weather For "+a+", "+d,u.className="current-header";const p=document.createElement("div");p.textContent=m,p.className="weather-today";const y=document.createElement("div");e?(r=c.temp_f,y.textContent=r+"°F"):(r=c.temp_c,y.textContent=r+"°C"),y.className="temp-today";const f=document.createElement("div");let E=new Date(s),g=E.toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",time:"long"}),h=E.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});f.textContent="Updated: "+g+" "+h,f.className="updated",i.append(l,u,p,y,f)}(t,c)})).catch((()=>{o.style.display="block"}))}catch(e){console.log(e)}}c(n),document.getElementById("temp-toggle").addEventListener("change",(e=>{e.target.checked?(t=!0,c(n)):(t=!1,c(n))})),document.getElementById("location-form").addEventListener("submit",(e=>{e.preventDefault(),c(document.getElementById("location-input").value)}))})();